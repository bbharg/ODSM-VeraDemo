
# File: veracode-sast-pipeline-steps.yml

steps:
- script: | 
    curl -O -L https://downloads.veracode.com/securityscan/pipeline-scan-LATEST.zip
    displayName: "Download Pipeline Scan"

- bash: curl -sSO https://downloads.veracode.com/securityscan/pipeline-scan-LATEST.zip
  displayName: Download Pipeline Scan

- bash: java -jar pipeline\pipeline-scan.jar --version
  displayName: "Run Pipeline Scan" 
      

  # --veracode_api_id "$(VERACODE_API_ID)" --veracode_api_key "$(VERACODE_API_KEY)" --file "example.jar" --baseline_file "../baseline.json"
  # VERACODE_API_ID and VERACODE_API_KEY must reference your API credentials.
  # "--baseline_file" specifies the baseline of known flaws for the specified application file.
  # This example command breaks the build for new flaws not listed in the specified baseline file. 
  #env:
    #  VERACODE_API_ID: $(VERACODE_API_ID)
    #  VERACODE_API_KEY: $(VERACODE_API_KEY)
    #
